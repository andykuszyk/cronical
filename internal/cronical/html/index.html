<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />


<link href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.6.1/fullcalendar.css' rel='stylesheet' />
<link href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.6.1/fullcalendar.print.css' rel='stylesheet' media='print' />
<script src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.12.0/moment.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.6.1/fullcalendar.js'></script>


<script src="ical.js"></script>
<script src="ical_events.js"></script>
<script src="ical_fullcalendar.js"></script>
<script src="cronical.js"></script>

<style>
body {
    font-family:monospace;
    font-size 12px;
}
#calendar {
    max-width: 900px;
    margin: 0 auto 2em;
}
.event-tgh9qho17b07pk2n2ji3gluansgooglecom {
    background:green;
}
</style>

</head>
<body>
    <h1>Cronical</h1>
    <h2>About</h2>
    <p>Cronical is a simple WebCal filtering application which allows events to be excluded from a WebCal feed using a CRON expression.</p>
    <p>To use it, replace the URL to your WebCal feed with one generated by Cronical, and provide the original WebCal URL and a CRON expression as base64 encoded parameters. These can be generated on the page below.</p>
    <h2>Input Parameters</h2>
    <form action="">
        <label for="webcal_url">WebCal URL:</label>
        <input type="text" id="webcal_url"/>
        <br>
        <br>
        <label for="cron">CRON expression:</label>
        <input type="text" id="cron"/>
        <br>
        <br>
        <input type="button" onclick="generate()" value="Generate"/>
    </form>
    <p><b>Note:</b> the hours in your CRON expression must match the same timezone as your WebCal feed, which is typically UTC.</p>
    <h2>Output WebCal</h2>
    <form action="">
        <label for="filtered_url">Filtered WebCal URL:</label>
        <input id="filtered_url" readonly=true/>
    </form>
    <br>
    <div id='calendar'></div>
    <h2>Credits</h2>
    Thanks to <a href="https://github.com/bricewge/icalendar2fullcalendar">https://github.com/bricewge/icalendar2fullcalendar</a> for the the conversion of the webcal format into the calendar widget.
    <h2>Bugs and feedback</h2>
    I created this application as a useful tool for myself. If you have any feedback, please raise an issue on GitHub or fork the project and raise a PR: <a href="https://github.com/andykuszyk/cronical">https://github.com/andykuszyk/cronical</a>.
</body>
</html>
